var smf_formSubmitted=false;var lastKeepAliveCheck=(new Date).getTime();var smf_editorArray=new Array;var ua=navigator.userAgent.toLowerCase();var is_opera=ua.indexOf("opera")!=-1;var is_opera95up=is_opera;var is_ff=(ua.indexOf("firefox")!=-1||ua.indexOf("iceweasel")!=-1||ua.indexOf("icecat")!=-1||ua.indexOf("shiretoko")!=-1||ua.indexOf("minefield")!=-1)&&!is_opera;var is_gecko=ua.indexOf("gecko")!=-1&&!is_opera;var is_chrome=ua.indexOf("chrome")!=-1;var is_safari=ua.indexOf("applewebkit")!=-1&&!is_chrome;
var is_webkit=ua.indexOf("applewebkit")!=-1;var is_ie=ua.indexOf("msie")!=-1&&!is_opera;var is_ie6=is_ie&&ua.indexOf("msie 6")!=-1;var is_ie7=is_ie&&ua.indexOf("msie 7")!=-1;var is_ie7down=is_ie7;var is_ie8=is_ie&&ua.indexOf("msie 8")!=-1;var is_ie8up=is_ie8&&!is_ie7down;var is_iphone=ua.indexOf("iphone")!=-1||ua.indexOf("ipod")!=-1;var is_android=ua.indexOf("android")!=-1;
if(!("getElementById"in document)&&"all"in document)document.getElementById=function(sId){return document.all[sId]};else if(!("XMLHttpRequest"in window)&&"ActiveXObject"in window)window.XMLHttpRequest=function(){return new ActiveXObject("MSXML2.XMLHTTP")};if(!"getElementsByTagName"in document&&"all"in document)document.getElementsByTagName=function(sName){return document.all.tags[sName]};if(!("forms"in document))document.forms=document.getElementsByTagName("form");
function getXMLDocument(sUrl,funcCallback){if(!window.XMLHttpRequest)return null;var oMyDoc=new XMLHttpRequest;var bAsync=typeof funcCallback!="undefined";var oCaller=this;if(bAsync)oMyDoc.onreadystatechange=function(){if(oMyDoc.readyState!=4)return;if(oMyDoc.responseXML!=null&&oMyDoc.status==200)if(funcCallback.call)funcCallback.call(oCaller,oMyDoc.responseXML);else{oCaller.tmpMethod=funcCallback;oCaller.tmpMethod(oMyDoc.responseXML);delete oCaller.tmpMethod}};oMyDoc.open("GET",sUrl,bAsync);oMyDoc.send(null);
return oMyDoc}
function sendXMLDocumentWithAnchor(sUrl,sContent,funcCallback,ele){if(!window.XMLHttpRequest)return false;var oSendDoc=new window.XMLHttpRequest;if(typeof funcCallback!="undefined")oSendDoc.onreadystatechange=function(){if(oSendDoc.readyState!=4)return;if(oSendDoc.responseXML!=null&&oSendDoc.status==200)funcCallback(ele,oSendDoc.responseText);else funcCallback(ele,oSendDoc.responseText)};oSendDoc.open("POST",sUrl,true);if("setRequestHeader"in oSendDoc)oSendDoc.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
oSendDoc.send(sContent);return true}
function sendXMLDocument(sUrl,sContent,funcCallback){if(!window.XMLHttpRequest)return false;var oSendDoc=new window.XMLHttpRequest;var oCaller=this;if(typeof funcCallback!="undefined")oSendDoc.onreadystatechange=function(){if(oSendDoc.readyState!=4)return;if(oSendDoc.responseXML!=null&&oSendDoc.status==200)funcCallback.call(oCaller,oSendDoc.responseXML);else funcCallback.call(oCaller,false)};oSendDoc.open("POST",sUrl,true);if("setRequestHeader"in oSendDoc)oSendDoc.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
oSendDoc.send(sContent);return true}String.prototype.oCharsetConversion={from:"",to:""};
String.prototype.php_to8bit=function(){if(smf_charset=="UTF-8"){var n,sReturn="";for(var i=0,iTextLen=this.length;i<iTextLen;i++){n=this.charCodeAt(i);if(n<128)sReturn+=String.fromCharCode(n);else if(n<2048)sReturn+=String.fromCharCode(192|n>>6)+String.fromCharCode(128|n&63);else if(n<65536)sReturn+=String.fromCharCode(224|n>>12)+String.fromCharCode(128|n>>6&63)+String.fromCharCode(128|n&63);else sReturn+=String.fromCharCode(240|n>>18)+String.fromCharCode(128|n>>12&63)+String.fromCharCode(128|n>>
6&63)+String.fromCharCode(128|n&63)}return sReturn}else if(this.oCharsetConversion.from.length==0){switch(smf_charset){case "ISO-8859-1":this.oCharsetConversion={from:"\u00a0-\u00ff",to:"\u00a0-\u00ff"};break;case "ISO-8859-2":this.oCharsetConversion={from:"\u00a0\u0104\u02d8\u0141\u00a4\u013d\u015a\u00a7\u00a8\u0160\u015e\u0164\u0179\u00ad\u017d\u017b\u00b0\u0105\u02db\u0142\u00b4\u013e\u015b\u02c7\u00b8\u0161\u015f\u0165\u017a\u02dd\u017e\u017c\u0154\u00c1\u00c2\u0102\u00c4\u0139\u0106\u00c7\u010c\u00c9\u0118\u00cb\u011a\u00cd\u00ce\u010e\u0110\u0143\u0147\u00d3\u00d4\u0150\u00d6\u00d7\u0158\u016e\u00da\u0170\u00dc\u00dd\u0162\u00df\u0155\u00e1\u00e2\u0103\u00e4\u013a\u0107\u00e7\u010d\u00e9\u0119\u00eb\u011b\u00ed\u00ee\u010f\u0111\u0144\u0148\u00f3\u00f4\u0151\u00f6\u00f7\u0159\u016f\u00fa\u0171\u00fc\u00fd\u0163\u02d9",
to:"\u00a0-\u00ff"};break;case "ISO-8859-5":this.oCharsetConversion={from:"\u00a0\u0401-\u040c\u00ad\u040e-\u044f\u2116\u0451-\u045c\u00a7\u045e\u045f",to:"\u00a0-\u00ff"};break;case "ISO-8859-9":this.oCharsetConversion={from:"\u00a0-\u00cf\u011e\u00d1-\u00dc\u0130\u015e\u00df-\u00ef\u011f\u00f1-\u00fc\u0131\u015f\u00ff",to:"\u00a0-\u00ff"};break;case "ISO-8859-15":this.oCharsetConversion={from:"\u00a0-\u00a3\u20ac\u00a5\u0160\u00a7\u0161\u00a9-\u00b3\u017d\u00b5-\u00b7\u017e\u00b9-\u00bb\u0152\u0153\u0178\u00bf-\u00ff",
to:"\u00a0-\u00ff"};break;case "tis-620":this.oCharsetConversion={from:"\u20ac\u2026\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u00a0\u0e01-\u0e3a\u0e3f-\u0e5b",to:"\u0080\u0085\u0091-\u0097\u00a0-\u00da\u00df-\u00fb"};break;case "windows-1251":this.oCharsetConversion={from:"\u0402\u0403\u201a\u0453\u201e\u2026\u2020\u2021\u20ac\u2030\u0409\u2039\u040a\u040c\u040b\u040f\u0452\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u2122\u0459\u203a\u045a\u045c\u045b\u045f\u00a0\u040e\u045e\u0408\u00a4\u0490\u00a6\u00a7\u0401\u00a9\u0404\u00ab-\u00ae\u0407\u00b0\u00b1\u0406\u0456\u0491\u00b5-\u00b7\u0451\u2116\u0454\u00bb\u0458\u0405\u0455\u0457\u0410-\u044f",
to:"\u0080-\u0097\u0099-\u00ff"};break;case "windows-1253":this.oCharsetConversion={from:"\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u2030\u2039\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u2122\u203a\u00a0\u0385\u0386\u00a3-\u00a9\u00ab-\u00ae\u2015\u00b0-\u00b3\u0384\u00b5-\u00b7\u0388-\u038a\u00bb\u038c\u00bd\u038e-\u03a1\u03a3-\u03ce",to:"\u0080\u0082-\u0087\u0089\u008b\u0091-\u0097\u0099\u009b\u00a0-\u00a9\u00ab-\u00d1\u00d3-\u00fe"};break;case "windows-1255":this.oCharsetConversion={from:"\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u2039\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u203a\u00a0-\u00a3\u20aa\u00a5-\u00a9\u00d7\u00ab-\u00b9\u00f7\u00bb-\u00bf\u05b0-\u05b9\u05bb-\u05c3\u05f0-\u05f4\u05d0-\u05ea\u200e\u200f",
to:"\u0080\u0082-\u0089\u008b\u0091-\u0099\u009b\u00a0-\u00c9\u00cb-\u00d8\u00e0-\u00fa\u00fd\u00fe"};break;case "windows-1256":this.oCharsetConversion={from:"\u20ac\u067e\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0679\u2039\u0152\u0686\u0698\u0688\u06af\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u06a9\u2122\u0691\u203a\u0153\u200c\u200d\u06ba\u00a0\u060c\u00a2-\u00a9\u06be\u00ab-\u00b9\u061b\u00bb-\u00be\u061f\u06c1\u0621-\u0636\u00d7\u0637-\u063a\u0640-\u0643\u00e0\u0644\u00e2\u0645-\u0648\u00e7-\u00eb\u0649\u064a\u00ee\u00ef\u064b-\u064e\u00f4\u064f\u0650\u00f7\u0651\u00f9\u0652\u00fb\u00fc\u200e\u200f\u06d2",
to:"\u0080-\u00ff"};break;default:this.oCharsetConversion={from:"",to:""};break}var funcExpandString=function(sSearch){var sInsert="";for(var i=sSearch.charCodeAt(0),n=sSearch.charCodeAt(2);i<=n;i++)sInsert+=String.fromCharCode(i);return sInsert};this.oCharsetConversion.from=this.oCharsetConversion.from.replace(/.\-./g,funcExpandString);this.oCharsetConversion.to=this.oCharsetConversion.to.replace(/.\-./g,funcExpandString)}var sReturn="",iOffsetFrom=0;for(var i=0,n=this.length;i<n;i++){iOffsetFrom=
this.oCharsetConversion.from.indexOf(this.charAt(i));sReturn+=iOffsetFrom>-1?this.oCharsetConversion.to.charAt(iOffsetFrom):this.charCodeAt(i)>127?"&#"+this.charCodeAt(i)+";":this.charAt(i)}return sReturn};String.prototype.php_strtr=function(sFrom,sTo){return this.replace(new RegExp("["+sFrom+"]","g"),function(sMatch){return sTo.charAt(sFrom.indexOf(sMatch))})};
String.prototype.php_strtolower=function(){return typeof smf_iso_case_folding=="boolean"&&smf_iso_case_folding==true?this.php_strtr("ABCDEFGHIJKLMNOPQRSTUVWXYZ\u008a\u008c\u008e\u009f\u00c0\u00c1\u00c2\u00c3\u00c4\u00c5\u00c6\u00c7\u00c8\u00c9\u00ca\u00cb\u00cc\u00cd\u00ce\u00cf\u00d0\u00d1\u00d2\u00d3\u00d4\u00d5\u00d6\u00d7\u00d8\u00d9\u00da\u00db\u00dc\u00dd\u00de","abcdefghijklmnopqrstuvwxyz\u009a\u009c\u009e\u00ff\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5\u00e6\u00e7\u00e8\u00e9\u00ea\u00eb\u00ec\u00ed\u00ee\u00ef\u00f0\u00f1\u00f2\u00f3\u00f4\u00f5\u00f6\u00f7\u00f8\u00f9\u00fa\u00fb\u00fc\u00fd\u00fe"):
this.php_strtr("ABCDEFGHIJKLMNOPQRSTUVWXYZ","abcdefghijklmnopqrstuvwxyz")};String.prototype.php_urlencode=function(){return escape(this).replace(/\+/g,"%2b").replace("*","%2a").replace("/","%2f").replace("@","%40")};String.prototype.php_htmlspecialchars=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};
String.prototype.php_unhtmlspecialchars=function(){return this.replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")};String.prototype.php_addslashes=function(){return this.replace(/\\/g,"\\\\").replace(/'/g,"\\'")};String.prototype._replaceEntities=function(sInput,sDummy,sNum){return String.fromCharCode(parseInt(sNum))};String.prototype.removeEntities=function(){return this.replace(/&(amp;)?#(\d+);/g,this._replaceEntities)};
String.prototype.easyReplace=function(oReplacements){var sResult=this;for(var sSearch in oReplacements)sResult=sResult.replace(new RegExp("%"+sSearch+"%","g"),oReplacements[sSearch]);return sResult};function reqWin(desktopURL,alternateWidth,alternateHeight,noScrollbars){$.prettyPhoto.open(desktopURL+"?iframe=true&height=250");return false}function storeCaret(oTextHandle){if("createTextRange"in oTextHandle)oTextHandle.caretPos=document.selection.createRange().duplicate()}
function replaceText(text,oTextHandle){if("caretPos"in oTextHandle&&"createTextRange"in oTextHandle){var caretPos=oTextHandle.caretPos;caretPos.text=caretPos.text.charAt(caretPos.text.length-1)==" "?text+" ":text;caretPos.select()}else if("selectionStart"in oTextHandle){var begin=oTextHandle.value.substr(0,oTextHandle.selectionStart);var end=oTextHandle.value.substr(oTextHandle.selectionEnd);var scrollPos=oTextHandle.scrollTop;oTextHandle.value=begin+text+end;if(oTextHandle.setSelectionRange){oTextHandle.focus();
var goForward=0;oTextHandle.setSelectionRange(begin.length+text.length+goForward,begin.length+text.length+goForward)}oTextHandle.scrollTop=scrollPos}else{oTextHandle.value+=text;oTextHandle.focus(oTextHandle.value.length-1)}}
function surroundText(text1,text2,oTextHandle){if("caretPos"in oTextHandle&&"createTextRange"in oTextHandle){var caretPos=oTextHandle.caretPos,temp_length=caretPos.text.length;caretPos.text=caretPos.text.charAt(caretPos.text.length-1)==" "?text1+caretPos.text+text2+" ":text1+caretPos.text+text2;if(temp_length==0){caretPos.moveStart("character",-text2.length);caretPos.moveEnd("character",-text2.length);caretPos.select()}else oTextHandle.focus(caretPos)}else if("selectionStart"in oTextHandle){var begin=
oTextHandle.value.substr(0,oTextHandle.selectionStart);var selection=oTextHandle.value.substr(oTextHandle.selectionStart,oTextHandle.selectionEnd-oTextHandle.selectionStart);var end=oTextHandle.value.substr(oTextHandle.selectionEnd);var newCursorPos=oTextHandle.selectionStart;var scrollPos=oTextHandle.scrollTop;oTextHandle.value=begin+text1+selection+text2+end;if(oTextHandle.setSelectionRange){var goForward=0,goForwardAll=0;if(selection.length==0)oTextHandle.setSelectionRange(newCursorPos+text1.length+
goForward,newCursorPos+text1.length+goForward);else oTextHandle.setSelectionRange(newCursorPos,newCursorPos+text1.length+selection.length+text2.length+goForwardAll);oTextHandle.focus()}oTextHandle.scrollTop=scrollPos}else{oTextHandle.value+=text1+text2;oTextHandle.focus(oTextHandle.value.length-1)}}
function isEmptyText(theField){var theValue=theField.value;while(theValue.length>0&&(theValue.charAt(0)==" "||theValue.charAt(0)=="\t"))theValue=theValue.substring(1,theValue.length);while(theValue.length>0&&(theValue.charAt(theValue.length-1)==" "||theValue.charAt(theValue.length-1)=="\t"))theValue=theValue.substring(0,theValue.length-1);if(theValue=="")return true;else return false}
function submitonce(theform){smf_formSubmitted=true;for(var i=0;i<smf_editorArray.length;i++)smf_editorArray[i].doSubmit()}function submitThisOnce(oControl){if(is_safari)return!smf_formSubmitted;var oForm="form"in oControl?oControl.form:oControl;var aTextareas=oForm.getElementsByTagName("textarea");for(var i=0,n=aTextareas.length;i<n;i++)aTextareas[i].readOnly=true;return!smf_formSubmitted}function setInnerHTML(oElement,sToValue){oElement.innerHTML=sToValue}
function getInnerHTML(oElement){return oElement.innerHTML}function setOuterHTML(oElement,sToValue){if("outerHTML"in oElement)oElement.outerHTML=sToValue;else{var range=document.createRange();range.setStartBefore(oElement);oElement.parentNode.replaceChild(range.createContextualFragment(sToValue),oElement)}}function in_array(variable,theArray){for(var i in theArray)if(theArray[i]==variable)return true;return false}
function array_search(variable,theArray){for(var i in theArray)if(theArray[i]==variable)return i;return null}function selectRadioByName(oRadioGroup,sName){if(!("length"in oRadioGroup))return oRadioGroup.checked=true;for(var i=0,n=oRadioGroup.length;i<n;i++)if(oRadioGroup[i].value==sName)return oRadioGroup[i].checked=true;return false}
function invertAll(oInvertCheckbox,oForm,sMask,bIgnoreDisabled){for(var i=0;i<oForm.length;i++){if(!("name"in oForm[i])||typeof sMask=="string"&&oForm[i].name.substr(0,sMask.length)!=sMask&&oForm[i].id.substr(0,sMask.length)!=sMask)continue;if(!oForm[i].disabled||typeof bIgnoreDisabled=="boolean"&&bIgnoreDisabled)oForm[i].checked=oInvertCheckbox.checked}}var lastKeepAliveCheck=(new Date).getTime();
function smf_sessionKeepAlive(){var curTime=(new Date).getTime();if(smf_scripturl&&curTime-lastKeepAliveCheck>9E5){var tempImage=new Image;tempImage.src=smf_prepareScriptUrl(smf_scripturl)+"action=keepalive;time="+curTime;lastKeepAliveCheck=curTime}window.setTimeout("smf_sessionKeepAlive();",12E5)}window.setTimeout("smf_sessionKeepAlive();",12E5);
function smf_setThemeOption(option,value,theme,cur_session_id,cur_session_var,additional_vars){if(cur_session_id==null)cur_session_id=smf_session_id;if(typeof cur_session_var=="undefined")cur_session_var="sesc";if(additional_vars==null)additional_vars="";var tempImage=new Image;tempImage.src=smf_prepareScriptUrl(smf_scripturl)+"action=jsoption;var="+option+";val="+value+";"+cur_session_var+"="+cur_session_id+additional_vars+(theme==null?"":"&th="+theme)+";time="+(new Date).getTime()}
function smf_avatarResize(){var possibleAvatars=document.getElementsByTagName("img");for(var i=0;i<possibleAvatars.length;i++){var tempAvatars=[];j=0;if(possibleAvatars[i].className!="avatar")continue;tempAvatars[j]=new Image;tempAvatars[j].avatar=possibleAvatars[i];tempAvatars[j].onload=function(){this.avatar.width=this.width;this.avatar.height=this.height;if(smf_avatarMaxWidth!=0&&this.width>smf_avatarMaxWidth){this.avatar.height=smf_avatarMaxWidth*this.height/this.width;this.avatar.width=smf_avatarMaxWidth}if(smf_avatarMaxHeight!=
0&&this.avatar.height>smf_avatarMaxHeight){this.avatar.width=smf_avatarMaxHeight*this.avatar.width/this.avatar.height;this.avatar.height=smf_avatarMaxHeight}};tempAvatars[j].src=possibleAvatars[i].src;j++}if(typeof window_oldAvatarOnload!="undefined"&&window_oldAvatarOnload){window_oldAvatarOnload();window_oldAvatarOnload=null}}
function hashLoginPassword(doForm,cur_session_id){if(cur_session_id==null)cur_session_id=smf_session_id;if(typeof hex_sha1=="undefined")return;if(doForm.user.value.indexOf("@")!=-1)return;if(!("opera"in window))doForm.passwrd.autocomplete="off";doForm.hash_passwrd.value=hex_sha1(hex_sha1(doForm.user.value.php_to8bit().php_strtolower()+doForm.passwrd.value.php_to8bit())+cur_session_id);if(is_ff!=-1)doForm.passwrd.value="";else doForm.passwrd.value=doForm.passwrd.value.replace(/./g,"*")}
function hashAdminPassword(doForm,username,cur_session_id){if(cur_session_id==null)cur_session_id=smf_session_id;if(typeof hex_sha1=="undefined")return;doForm.admin_hash_pass.value=hex_sha1(hex_sha1(username.php_to8bit().php_strtolower()+doForm.admin_pass.value.php_to8bit())+cur_session_id);doForm.admin_pass.value=doForm.admin_pass.value.replace(/./g,"*")}
function expandPages(spanNode,baseURL,firstPage,lastPage,perPage){var replacement="",i,oldLastPage=0;var perPageLimit=50;spanNode.style.fontWeight="normal";spanNode.onclick="";if((lastPage-firstPage)/perPage>perPageLimit){oldLastPage=lastPage;lastPage=firstPage+perPageLimit*perPage}for(i=firstPage;i<lastPage;i+=perPage)replacement+='<a class="navPages" href="'+baseURL.replace(/%1\$d/,i).replace(/%%/g,"%")+'">'+(1+i/perPage)+"</a> ";if(oldLastPage>0)replacement+='<span style="font-weight: bold; cursor: '+
(is_ie?"hand":"pointer")+';" onclick="expandPages(this, \''+baseURL+"', "+lastPage+", "+oldLastPage+", "+perPage+');"> ... </span> ';setInnerHTML(spanNode,replacement)}function smc_preCacheImage(sSrc){if(!("smc_aCachedImages"in window))window.smc_aCachedImages=[];if(!in_array(sSrc,window.smc_aCachedImages)){var oImage=new Image;oImage.src=sSrc}}function smc_Cookie(oOptions){this.opt=oOptions;this.oCookies={};this.init()}
smc_Cookie.prototype.init=function(){if("cookie"in document&&document.cookie!=""){var aCookieList=document.cookie.split(";");for(var i=0,n=aCookieList.length;i<n;i++){var aNameValuePair=aCookieList[i].split("=");this.oCookies[aNameValuePair[0].replace(/^\s+|\s+$/g,"")]=decodeURIComponent(aNameValuePair[1])}}};smc_Cookie.prototype.get=function(sKey){return sKey in this.oCookies?this.oCookies[sKey]:null};smc_Cookie.prototype.set=function(sKey,sValue){document.cookie=sKey+"="+encodeURIComponent(sValue)};
function smc_Toggle(oOptions){this.opt=oOptions;this.bCollapsed=false;this.oCookie=null;this.init()}
smc_Toggle.prototype.init=function(){if("bToggleEnabled"in this.opt&&!this.opt.bToggleEnabled)return;if("oCookieOptions"in this.opt&&this.opt.oCookieOptions.bUseCookie){this.oCookie=new smc_Cookie({});var cookieValue=this.oCookie.get(this.opt.oCookieOptions.sCookieName);if(cookieValue!=null)this.opt.bCurrentlyCollapsed=cookieValue=="1"}if(this.opt.bCurrentlyCollapsed)this.changeState(true,true);if("aSwapImages"in this.opt)for(var i=0,n=this.opt.aSwapImages.length;i<n;i++){var oImage=document.getElementById(this.opt.aSwapImages[i].sId);
if(typeof oImage=="object"&&oImage!=null){if(oImage.style.display=="none")oImage.style.display="";oImage.instanceRef=this;oImage.onclick=function(){this.instanceRef.toggle();this.blur()};oImage.style.cursor="pointer";smc_preCacheImage(this.opt.aSwapImages[i].srcCollapsed)}}if("aSwapLinks"in this.opt)for(var i=0,n=this.opt.aSwapLinks.length;i<n;i++){var oLink=document.getElementById(this.opt.aSwapLinks[i].sId);if(typeof oLink=="object"&&oLink!=null){if(oLink.style.display=="none")oLink.style.display=
"";oLink.instanceRef=this;oLink.onclick=function(){this.instanceRef.toggle();this.blur();return false}}}};
smc_Toggle.prototype.changeState=function(bCollapse,bInit){bInit=typeof bInit=="undefined"?false:true;if(!bInit&&bCollapse&&"funcOnBeforeCollapse"in this.opt){this.tmpMethod=this.opt.funcOnBeforeCollapse;this.tmpMethod();delete this.tmpMethod}else if(!bInit&&!bCollapse&&"funcOnBeforeExpand"in this.opt){this.tmpMethod=this.opt.funcOnBeforeExpand;this.tmpMethod();delete this.tmpMethod}if("aSwapImages"in this.opt)for(var i=0,n=this.opt.aSwapImages.length;i<n;i++){var oImage=document.getElementById(this.opt.aSwapImages[i].sId);
if(typeof oImage=="object"&&oImage!=null){var sTargetSource=bCollapse?this.opt.aSwapImages[i].srcCollapsed:this.opt.aSwapImages[i].srcExpanded;if(oImage.src!=sTargetSource)oImage.src=sTargetSource;oImage.alt=oImage.title=bCollapse?this.opt.aSwapImages[i].altCollapsed:this.opt.aSwapImages[i].altExpanded}}if("aSwapLinks"in this.opt)for(var i=0,n=this.opt.aSwapLinks.length;i<n;i++){var oLink=document.getElementById(this.opt.aSwapLinks[i].sId);if(typeof oLink=="object"&&oLink!=null)setInnerHTML(oLink,
bCollapse?this.opt.aSwapLinks[i].msgCollapsed:this.opt.aSwapLinks[i].msgExpanded)}for(var i=0,n=this.opt.aSwappableContainers.length;i<n;i++){if(this.opt.aSwappableContainers[i]==null)continue;var oContainer=document.getElementById(this.opt.aSwappableContainers[i]);if(typeof oContainer=="object"&&oContainer!=null)oContainer.style.display=bCollapse?"none":""}this.bCollapsed=bCollapse;if("oCookieOptions"in this.opt&&this.opt.oCookieOptions.bUseCookie)this.oCookie.set(this.opt.oCookieOptions.sCookieName,
this.bCollapsed?"1":"0");if("oThemeOptions"in this.opt&&this.opt.oThemeOptions.bUseThemeSettings)smf_setThemeOption(this.opt.oThemeOptions.sOptionName,this.bCollapsed?"1":"0","sThemeId"in this.opt.oThemeOptions?this.opt.oThemeOptions.sThemeId:null,this.opt.oThemeOptions.sSessionId,this.opt.oThemeOptions.sSessionVar,"sAdditionalVars"in this.opt.oThemeOptions?this.opt.oThemeOptions.sAdditionalVars:null)};smc_Toggle.prototype.toggle=function(){this.changeState(!this.bCollapsed)};
function createEventListener(oTarget){if(!("addEventListener"in oTarget))if(oTarget.attachEvent){oTarget.addEventListener=function(sEvent,funcHandler,bCapture){oTarget.attachEvent("on"+sEvent,funcHandler)};oTarget.removeEventListener=function(sEvent,funcHandler,bCapture){oTarget.detachEvent("on"+sEvent,funcHandler)}}else{oTarget.addEventListener=function(sEvent,funcHandler,bCapture){oTarget["on"+sEvent]=funcHandler};oTarget.removeEventListener=function(sEvent,funcHandler,bCapture){oTarget["on"+sEvent]=
null}}}
function grabJumpToContent(){var oXMLDoc=getXMLDocument(smf_prepareScriptUrl(smf_scripturl)+"action=xmlhttp;sa=jumpto;xml");var aBoardsAndCategories=new Array;setBusy(true);if(oXMLDoc.responseXML){var items=oXMLDoc.responseXML.getElementsByTagName("smf")[0].getElementsByTagName("item");for(var i=0,n=items.length;i<n;i++)aBoardsAndCategories[aBoardsAndCategories.length]={id:parseInt(items[i].getAttribute("id")),isCategory:items[i].getAttribute("type")=="category",name:items[i].firstChild.nodeValue.removeEntities(),is_current:false,
childLevel:parseInt(items[i].getAttribute("childlevel"))}}setBusy(false);for(var i=0,n=aJumpTo.length;i<n;i++)aJumpTo[i].fillSelect(aBoardsAndCategories)}var aJumpTo=new Array;function JumpTo(oJumpToOptions){this.opt=oJumpToOptions;this.dropdownList=null;this.showSelect()}
JumpTo.prototype.showSelect=function(){var sChildLevelPrefix="";for(var i=this.opt.iCurBoardChildLevel;i>0;i--)sChildLevelPrefix+=this.opt.sBoardChildLevelIndicator;setInnerHTML(document.getElementById(this.opt.sContainerId),this.opt.sJumpToTemplate.replace(/%select_id%/,this.opt.sContainerId+"_select").replace(/%dropdown_list%/,'<select name="'+this.opt.sContainerId+'_select" id="'+this.opt.sContainerId+'_select" '+("implementation"in document?"":'onmouseover="grabJumpToContent();" ')+("onbeforeactivate"in
document?"onbeforeactivate":"onfocus")+'="grabJumpToContent();"><option value="?board='+this.opt.iCurBoardId+'.0">'+sChildLevelPrefix+this.opt.sBoardPrefix+this.opt.sCurBoardName.removeEntities()+'</option></select>&nbsp;<input type="button" value="'+this.opt.sGoButtonLabel+'" onclick="window.location.href = \''+smf_prepareScriptUrl(smf_scripturl)+"board="+this.opt.iCurBoardId+".0';\" />"));this.dropdownList=document.getElementById(this.opt.sContainerId+"_select")};
JumpTo.prototype.fillSelect=function(aBoardsAndCategories){var bIE5x=!("implementation"in document);var iIndexPointer=0;var oDashOption=document.createElement("option");oDashOption.appendChild(document.createTextNode(this.opt.sCatSeparator));oDashOption.disabled="disabled";oDashOption.value="";if(bIE5x){this.dropdownList.onmouseover=null;this.dropdownList.remove(0)}if("onbeforeactivate"in document)this.dropdownList.onbeforeactivate=null;else this.dropdownList.onfocus=null;var oListFragment=bIE5x?
this.dropdownList:document.createDocumentFragment();for(var i=0,n=aBoardsAndCategories.length;i<n;i++){var j,sChildLevelPrefix,oOption;if(!aBoardsAndCategories[i].isCategory&&aBoardsAndCategories[i].id==this.opt.iCurBoardId)if(bIE5x)iIndexPointer=this.dropdownList.options.length;else{this.dropdownList.insertBefore(oListFragment,this.dropdownList.options[0]);oListFragment=document.createDocumentFragment();continue}if(aBoardsAndCategories[i].isCategory)oListFragment.appendChild(oDashOption.cloneNode(true));
else for(j=aBoardsAndCategories[i].childLevel,sChildLevelPrefix="";j>0;j--)sChildLevelPrefix+=this.opt.sBoardChildLevelIndicator;oOption=document.createElement("option");oOption.appendChild(document.createTextNode((aBoardsAndCategories[i].isCategory?this.opt.sCatPrefix:sChildLevelPrefix+this.opt.sBoardPrefix)+aBoardsAndCategories[i].name));oOption.value=aBoardsAndCategories[i].isCategory?"#c"+aBoardsAndCategories[i].id:"?board="+aBoardsAndCategories[i].id+".0";oListFragment.appendChild(oOption);if(aBoardsAndCategories[i].isCategory)oListFragment.appendChild(oDashOption.cloneNode(true))}this.dropdownList.appendChild(oListFragment);
if(bIE5x)this.dropdownList.options[iIndexPointer].selected=true;this.dropdownList.style.width="auto";this.dropdownList.focus();this.dropdownList.onchange=function(){if(this.selectedIndex>0&&this.options[this.selectedIndex].value)window.location.href=smf_scripturl+this.options[this.selectedIndex].value.substr(smf_scripturl.indexOf("?")==-1||this.options[this.selectedIndex].value.substr(0,1)!="?"?0:1)}};var aIconLists=new Array;
function IconList(oOptions){if(!window.XMLHttpRequest)return;this.opt=oOptions;this.bListLoaded=false;this.oContainerDiv=null;this.funcMousedownHandler=null;this.funcParent=this;this.iCurMessageId=0;this.iCurTimeout=0;if(!("sSessionVar"in this.opt))this.opt.sSessionVar="sesc";this.initIcons()}
IconList.prototype.initIcons=function(){for(var i=document.images.length-1,iPrefixLength=this.opt.sIconIdPrefix.length;i>=0;i--)if(document.images[i].id.substr(0,iPrefixLength)==this.opt.sIconIdPrefix)setOuterHTML(document.images[i],'<div title="'+this.opt.sLabelIconList+'" onclick="'+this.opt.sBackReference+".openPopup(this, "+document.images[i].id.substr(iPrefixLength)+')" onmouseover="'+this.opt.sBackReference+'.onBoxHover(this, true)" onmouseout="'+this.opt.sBackReference+'.onBoxHover(this, false)" style="background: '+
this.opt.sBoxBackground+"; cursor: "+(is_ie?"hand":"pointer")+'; padding: 0px; text-align: center;"><img src="'+document.images[i].src+'" alt="'+document.images[i].alt+'" id="'+document.images[i].id+'" style="margin:0; padding: 0;" /></div>')};
IconList.prototype.onBoxHover=function(oDiv,bMouseOver){oDiv.style.border=bMouseOver?this.opt.iBoxBorderWidthHover+"px solid "+this.opt.sBoxBorderColorHover:"";oDiv.style.background=bMouseOver?this.opt.sBoxBackgroundHover:this.opt.sBoxBackground;oDiv.style.padding=bMouseOver?3-this.opt.iBoxBorderWidthHover+"px":"3px"};
IconList.prototype.openPopup=function(oDiv,iMessageId){this.iCurMessageId=iMessageId;if(!this.bListLoaded&&this.oContainerDiv==null){this.oContainerDiv=document.createElement("div");this.oContainerDiv.id="iconList";this.oContainerDiv.style.display="none";this.oContainerDiv.style.cursor=is_ie?"hand":"pointer";this.oContainerDiv.style.position="absolute";this.oContainerDiv.style.width=oDiv.offsetWidth+"px";this.oContainerDiv.style.background=this.opt.sContainerBackground;this.oContainerDiv.style.border=
this.opt.sContainerBorder;this.oContainerDiv.style.padding="0px";this.oContainerDiv.style.textAlign="center";document.body.appendChild(this.oContainerDiv);setBusy(true);this.tmpMethod=getXMLDocument;this.tmpMethod(smf_prepareScriptUrl(this.opt.sScriptUrl)+"action=xmlhttp;sa=messageicons;board="+this.opt.iBoardId+";xml",this.onIconsReceived);delete this.tmpMethod;createEventListener(document.body)}var aPos=smf_itemPos(oDiv);this.oContainerDiv.style.top=aPos[1]+oDiv.offsetHeight+"px";this.oContainerDiv.style.left=
aPos[0]-1+"px";this.oClickedIcon=oDiv;if(this.bListLoaded)this.oContainerDiv.style.display="block";document.body.addEventListener("mousedown",this.onWindowMouseDown,false)};
IconList.prototype.onIconsReceived=function(oXMLDoc){var icons=oXMLDoc.getElementsByTagName("smf")[0].getElementsByTagName("icon");var sItems="";for(var i=0,n=icons.length;i<n;i++)sItems+='<div onmouseover="'+this.opt.sBackReference+'.onItemHover(this, true)" onmouseout="'+this.opt.sBackReference+'.onItemHover(this, false);" onmousedown="'+this.opt.sBackReference+".onItemMouseDown(this, '"+icons[i].getAttribute("value")+'\');" style="padding: 3px 0px 3px 0px; margin-left: auto; margin-right: auto; border: '+
this.opt.sItemBorder+"; background: "+this.opt.sItemBackground+'"><img src="'+icons[i].getAttribute("url")+'" alt="'+icons[i].getAttribute("name")+'" title="'+icons[i].firstChild.nodeValue+'" /></div>';setInnerHTML(this.oContainerDiv,sItems);this.oContainerDiv.style.display="block";this.bListLoaded=true;if(is_ie)this.oContainerDiv.style.width=this.oContainerDiv.clientWidth+"px";setBusy(false)};
IconList.prototype.onItemHover=function(oDiv,bMouseOver){oDiv.style.background=bMouseOver?this.opt.sItemBackgroundHover:this.opt.sItemBackground;oDiv.style.border=bMouseOver?this.opt.sItemBorderHover:this.opt.sItemBorder;if(this.iCurTimeout!=0)window.clearTimeout(this.iCurTimeout);if(bMouseOver)this.onBoxHover(this.oClickedIcon,true);else this.iCurTimeout=window.setTimeout(this.opt.sBackReference+".collapseList();",500)};
IconList.prototype.onItemMouseDown=function(oDiv,sNewIcon){if(this.iCurMessageId!=0){setBusy(true);this.tmpMethod=getXMLDocument;var oXMLDoc=this.tmpMethod(smf_prepareScriptUrl(this.opt.sScriptUrl)+"action=jsmodify;topic="+this.opt.iTopicId+";msg="+this.iCurMessageId+";"+this.opt.sSessionVar+"="+this.opt.sSessionId+";icon="+sNewIcon+";xml");delete this.tmpMethod;setBusy(false);var oMessage=oXMLDoc.responseXML.getElementsByTagName("smf")[0].getElementsByTagName("message")[0];if(oMessage.getElementsByTagName("error").length==
0){if(this.opt.bShowModify&&oMessage.getElementsByTagName("modified").length!=0)setInnerHTML(document.getElementById("modified_"+this.iCurMessageId),oMessage.getElementsByTagName("modified")[0].childNodes[0].nodeValue);this.oClickedIcon.getElementsByTagName("img")[0].src=oDiv.getElementsByTagName("img")[0].src}}};
IconList.prototype.onWindowMouseDown=function(){for(var i=aIconLists.length-1;i>=0;i--){aIconLists[i].funcParent.tmpMethod=aIconLists[i].collapseList;aIconLists[i].funcParent.tmpMethod();delete aIconLists[i].funcParent.tmpMethod}};IconList.prototype.collapseList=function(){this.onBoxHover(this.oClickedIcon,false);this.oContainerDiv.style.display="none";this.iCurMessageId=0;document.body.removeEventListener("mousedown",this.onWindowMouseDown,false)};
function smf_mousePose(oEvent){var x=0;var y=0;if(oEvent.pageX){y=oEvent.pageY;x=oEvent.pageX}else if(oEvent.clientX){x=oEvent.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft);y=oEvent.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)}return[x,y]}
function smf_itemPos(itemHandle){var itemX=0;var itemY=0;if("offsetParent"in itemHandle){itemX=itemHandle.offsetLeft;itemY=itemHandle.offsetTop;while(itemHandle.offsetParent&&typeof itemHandle.offsetParent=="object"){itemHandle=itemHandle.offsetParent;itemX+=itemHandle.offsetLeft;itemY+=itemHandle.offsetTop}}else if("x"in itemHandle){itemX=itemHandle.x;itemY=itemHandle.y}return[itemX,itemY]}
function smf_prepareScriptUrl(sUrl){return sUrl.indexOf("?")==-1?sUrl+"?":sUrl+(sUrl.charAt(sUrl.length-1)=="?"||sUrl.charAt(sUrl.length-1)=="&"||sUrl.charAt(sUrl.length-1)==";"?"":";")}var aOnloadEvents=new Array;
function addLoadEvent(fNewOnload){if(typeof fNewOnload=="function"&&(!("onload"in window)||typeof window.onload!="function"))window.onload=fNewOnload;else if(aOnloadEvents.length==0){aOnloadEvents[0]=window.onload;aOnloadEvents[1]=fNewOnload;window.onload=function(){for(var i=0,n=aOnloadEvents.length;i<n;i++)if(typeof aOnloadEvents[i]=="function")aOnloadEvents[i]();else if(typeof aOnloadEvents[i]=="string")eval(aOnloadEvents[i])}}else aOnloadEvents[aOnloadEvents.length]=fNewOnload}
function smfFooterHighlight(element,value){element.src=smf_images_url+"/"+(value?"h_":"")+element.id+".gif"}
function smfSelectText(oCurElement,bActOnElement){if(typeof bActOnElement=="boolean"&&bActOnElement)var oCodeArea=document.getElementById(oCurElement);else var oCodeArea=oCurElement.parentNode.nextSibling;if(typeof oCodeArea!="object"||oCodeArea==null)return false;if("createTextRange"in document.body){var oCurRange=document.body.createTextRange();oCurRange.moveToElementText(oCodeArea);oCurRange.select()}else if(window.getSelection){var oCurSelection=window.getSelection();if(oCurSelection.setBaseAndExtent){var oLastChild=
oCodeArea.lastChild;oCurSelection.setBaseAndExtent(oCodeArea,0,oLastChild,"innerText"in oLastChild?oLastChild.innerText.length:oLastChild.textContent.length)}else{var curRange=document.createRange();curRange.selectNodeContents(oCodeArea);oCurSelection.removeAllRanges();oCurSelection.addRange(curRange)}}return false}
function smc_saveEntities(sFormName,aElementNames,sMask){if(typeof sMask=="string")for(var i=0,n=document.forms[sFormName].elements.length;i<n;i++)if(document.forms[sFormName].elements[i].id.substr(0,sMask.length)==sMask)aElementNames[aElementNames.length]=document.forms[sFormName].elements[i].name;for(var i=0,n=aElementNames.length;i<n;i++)if(aElementNames[i]in document.forms[sFormName])document.forms[sFormName][aElementNames[i]].value=document.forms[sFormName][aElementNames[i]].value.replace(/&#/g,
"&#38;#")}function cleanFileInput(idElement){if(is_opera||is_ie||is_safari||is_chrome)document.getElementById(idElement).outerHTML=document.getElementById(idElement).outerHTML;else{document.getElementById(idElement).type="input";document.getElementById(idElement).type="file"}}
function smf_codeBoxFix(){var codeFix=document.getElementsByTagName("code");for(var i=codeFix.length-1;i>=0;i--)if(is_webkit&&codeFix[i].offsetHeight<20)codeFix[i].style.height=codeFix[i].offsetHeight+20+"px";else if(is_ff&&(codeFix[i].scrollWidth>codeFix[i].clientWidth||codeFix[i].clientWidth==0))codeFix[i].style.overflow="scroll";else if("currentStyle"in codeFix[i]&&codeFix[i].currentStyle.overflow=="auto"&&(codeFix[i].currentStyle.height==""||codeFix[i].currentStyle.height=="auto")&&(codeFix[i].scrollWidth>
codeFix[i].clientWidth||codeFix[i].clientWidth==0)&&codeFix[i].offsetHeight!=0)codeFix[i].style.height=codeFix[i].offsetHeight+24+"px"}if(is_ie||is_webkit||is_ff)addLoadEvent(smf_codeBoxFix);
function smc_toggleImageDimensions(){var oImages=document.getElementsByTagName("IMG");for(oImage in oImages){if(oImages[oImage].className==undefined||oImages[oImage].className.indexOf("bbc_img resized")==-1)continue;oImages[oImage].style.cursor="pointer";oImages[oImage].onclick=function(){this.style.width=this.style.height=this.style.width=="auto"?null:"auto"}}}
function smf_addButton(sButtonStripId,bUseImage,oOptions){var oButtonStrip=document.getElementById(sButtonStripId);var aItems=oButtonStrip.getElementsByTagName("span");if(aItems.length>0){var oLastSpan=aItems[aItems.length-1];oLastSpan.className=oLastSpan.className.replace(/\s*last/,"position_holder")}var oButtonStripList=oButtonStrip.getElementsByTagName("ul")[0];var oNewButton=document.createElement("li");setInnerHTML(oNewButton,'<a href="'+oOptions.sUrl+'" '+("sCustom"in oOptions?oOptions.sCustom:
"")+'><span class="last"'+("sId"in oOptions?' id="'+oOptions.sId+'"':"")+">"+oOptions.sText+"</span></a>");oButtonStripList.appendChild(oNewButton)}
var smf_addListItemHoverEvents=function(){var cssRule,newSelector;for(var iStyleSheet=0;iStyleSheet<document.styleSheets.length;iStyleSheet++)for(var iRule=0;iRule<document.styleSheets[iStyleSheet].rules.length;iRule++){oCssRule=document.styleSheets[iStyleSheet].rules[iRule];if(oCssRule.selectorText.indexOf("LI:hover")!=-1){sNewSelector=oCssRule.selectorText.replace(/LI:hover/gi,"LI.iehover");document.styleSheets[iStyleSheet].addRule(sNewSelector,oCssRule.style.cssText)}}var oListItems=document.getElementsByTagName("LI");
for(oListItem in oListItems){oListItems[oListItem].onmouseover=function(){this.className+=" iehover"};oListItems[oListItem].onmouseout=function(){this.className=this.className.replace(new RegExp(" iehover\\b"),"")}}};function readCookie(name){var nameEQ=name+"=";var ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==" ")c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length)}return null}
function createCookie(name,value,days){if(days){var date=new Date;date.setTime(date.getTime()+days*24*60*60*1E3);var expires="; expires="+date.toGMTString()}else var expires="";document.cookie=name+"="+value+expires+"; path=/"}function setTextSize(_s){textsize=_s;if(textsize<textSizeMin||textsize>textSizeMax)textsize=textSizeDefault;$("body").css("font-size",_s+textSizeUnit);createCookie("SMF_textsize",textsize,500);$("#curfontsize").html(textsize+textSizeUnit)}
(function($){$.timeago=function(timestamp){if(timestamp instanceof Date)return inWords(timestamp);else if(typeof timestamp==="string")return inWords($.timeago.parse(timestamp));else return inWords($.timeago.datetime(timestamp))};var $t=$.timeago;$.extend($.timeago,{settings:{refreshMillis:6E4,allowFuture:true},inWords:function(distanceMillis){var $l=this.settings.strings;var prefix=$l.prefixAgo;var suffix=$l.suffixAgo;if(this.settings.allowFuture){if(distanceMillis<0){prefix=$l.prefixFromNow;suffix=
$l.suffixFromNow}distanceMillis=Math.abs(distanceMillis)}var seconds=distanceMillis/1E3;var minutes=seconds/60;var hours=minutes/60;var days=hours/24;var years=days/365;function substitute(stringOrFunction,number){var string=$.isFunction(stringOrFunction)?stringOrFunction(number,distanceMillis):stringOrFunction;var value=$l.numbers&&$l.numbers[number]||number;return string.replace(/%d/i,value)}var words=seconds<45&&substitute($l.seconds,Math.round(seconds))||seconds<90&&substitute($l.minute,1)||minutes<
45&&substitute($l.minutes,Math.round(minutes))||minutes<90&&substitute($l.hour,1)||hours<24&&substitute($l.hours,Math.round(hours))||hours<48&&substitute($l.day,1)||days<30&&substitute($l.days,Math.floor(days))||days<60&&substitute($l.month,1)||days<365&&substitute($l.months,Math.floor(days/30))||years<2&&substitute($l.year,1)||substitute($l.years,Math.floor(years));return $.trim([prefix,words,suffix].join(" "))},parse:function(iso8601){var s=$.trim(iso8601);s=s.replace(/\.\d\d\d+/,"");s=s.replace(/-/,
"/").replace(/-/,"/");s=s.replace(/T/," ").replace(/Z/," UTC");s=s.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");return new Date(s)},datetime:function(elem){var isTime=$(elem).get(0).tagName.toLowerCase()==="time";var iso8601=isTime?$(elem).attr("datetime"):$(elem).attr("title");return $t.parse(iso8601)}});$.fn.timeago=function(){var self=this;self.each(refresh);var $s=$t.settings;if($s.refreshMillis>0)setInterval(function(){self.each(refresh)},$s.refreshMillis);return self};function refresh(){var data=
prepareData(this);if(!isNaN(data.datetime))$(this).text(inWords(data.datetime));return this}function prepareData(element){element=$(element);if(!element.data("timeago")){element.data("timeago",{datetime:$t.datetime(element)});var text=$.trim(element.text());if(text.length>0)element.attr("title",text)}return element.data("timeago")}function inWords(date){var now=new Date;var ref=date.getTime()+now.getTimezoneOffset()*60*1E3;var dist=now.getTime()-ref;now.setHours(0);now.setMinutes(0);var todayref=
now.getTime();if(ref<todayref){todayref-=ref;var onehour=3600*1E3;var hours=todayref/onehour;if(hours>24&&hours<144)return $t.settings.strings.weekdays[date.getUTCDay()]+", "+pad(date.getUTCHours())+":"+pad(date.getUTCMinutes());if(hours>0&&hours<24)return $t.settings.strings.yesterday+", "+pad(date.getUTCHours())+":"+pad(date.getUTCMinutes())}$t.settings.allowFuture=dist<0&&Math.abs(dist)<onehour?false:true;return $t.inWords(dist)}function distance(date){var d=new Date;return d.getTime()-(date.getTime()+
d.getTimezoneOffset()*60*1E3)}function pad(n){var s=n+"";while(s.length<2)s="0"+s;return s}})(jQuery);